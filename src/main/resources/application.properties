# ==========================================
# APPLICATION
# ==========================================
spring.application.name=${SPRING_APPLICATION_NAME:project-api}
server.port=${SERVER_PORT:8090}

# Profil par défaut (changé par Docker ou ligne de commande)
spring.profiles.active=${SPRING_PROFILE:ngrok}

# ==========================================
# URLs (flexibles pour Docker/Local/Ngrok)
# ==========================================
app.base-url=${APP_BASE_URL:http://localhost:8090}
app.frontend-url=${APP_FRONTEND_URL:http://localhost:3000}
app.allowed-origins=${ALLOWED_ORIGINS:http://localhost:3000,http://localhost:3001,http://localhost:5174}

# ==========================================
# MONGODB (flexible)
# ==========================================
spring.data.mongodb.uri=${SPRING_DATA_MONGODB_URI:mongodb://root:qwerty87@localhost:27017/project-name?authSource=admin}
spring.data.mongodb.auto-index-creation=${MONGO_AUTO_INDEX:true}

# ==========================================
# JWT
# ==========================================
jwt.secret=${JWT_SECRET:your-super-secret-jwt-key-change-this-in-production-min-256-bits}
jwt.access-token-expiration=${JWT_ACCESS_TOKEN_EXPIRATION:3600000}
jwt.refresh-token-expiration=${JWT_REFRESH_TOKEN_EXPIRATION:604800000}

# ==========================================
# FILE STORAGE
# ==========================================
file.storage.base-path=${FILE_STORAGE_BASE_PATH:./uploads}
file.storage.max-file-size=${FILE_STORAGE_MAX_FILE_SIZE:5242880}
file.storage.allowed-types=${FILE_STORAGE_ALLOWED_TYPES:image/jpeg,image/png,image/gif,image/webp}
file.storage.users-path=users
file.storage.stock-path=stock

spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=${MULTIPART_MAX_FILE_SIZE:5MB}
spring.servlet.multipart.max-request-size=${MULTIPART_MAX_REQUEST_SIZE:10MB}

# ==========================================
# ADMIN (ROOT_ADMIN - Data Initialization)
# ==========================================
admin.email=${ADMIN_EMAIL:bendjibril789@gmail.com}
admin.password=${ADMIN_PASSWORD:Root@dmin789!}
admin.username=${ADMIN_USERNAME:azerty-78}
admin.firstname=${ADMIN_FIRSTNAME:Ben}
admin.lastname=${ADMIN_LASTNAME:Djibril}

# ==========================================
# LOGGING
# ==========================================
logging.level.root=${LOG_LEVEL_ROOT:INFO}
logging.level.com.kobecorporation=${LOG_LEVEL_APP:DEBUG}
logging.level.org.springframework.data.mongodb=${LOG_LEVEL_MONGO:INFO}
logging.level.org.springframework.security=${LOG_LEVEL_SECURITY:DEBUG}
logging.level.org.springframework.web=${LOG_LEVEL_WEB:INFO}
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ==========================================
# ACTUATOR
# ==========================================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# ==========================================
# JACKSON
# ==========================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=UTC
spring.jackson.default-property-inclusion=non_null

# ==========================================
# DEVTOOLS
# ==========================================
spring.devtools.restart.enabled=${DEVTOOLS_ENABLED:true}
spring.devtools.livereload.enabled=${DEVTOOLS_ENABLED:true}

# ==========================================
# DOCKER COMPOSE
# ==========================================
spring.docker.compose.enabled=false

# ==========================================
# PROFIL ACTIF (change en "ngrok" quand tu utilises ngrok)
# ==========================================
#spring.profiles.active=dev
#spring.profiles.active=ngrok

#./gradlew bootRun ==> lancer en local
# ./gradlew bootRun -Dspring.profiles.active=ngrok ==> lancer sous ngrok
